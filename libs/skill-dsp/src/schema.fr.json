{
  "openapi": "3.0.0",
  "info": {
    "title": "@digipair/skill-dsp",
    "summary": "LLM via DSP",
    "description": "La comp√©tence permet de g√©rer la communication avec le LLM en suivant le DSP de Stanford.",
    "version": "0.1.0",
    "x-icon": "üöÄ"
  },
  "paths": {
    "/model": {
      "post": {
        "tags": [
          "service"
        ],
        "summary": "Mod√®le G√©n√©rique",
        "parameters": [
          {
            "name": "name",
            "summary": "Nom du model",
            "required": false,
            "description": "Nom du model LLM √† utiliser pour le r√©sum√© syst√®me",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "options",
            "summary": "Options",
            "required": false,
            "description": "Options du mod√®le LLM",
            "schema": {
              "type": "object"
            }
          }
        ],
        "x-events": [],
        "responses": {
          "200": {
            "description": "R√©ponse r√©ussie",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AxAIModelInstance"
                }
                  "name": "gpt-4o-mini",
                "config": {},
                "options": {}
              }
            }
          }
        }
      }
    }
  },
  "/modelOpenAI": {
    "post": {
      "tags": [
        "service"
      ],
      "summary": "Mod√®le OpenAI",
      "parameters": [
        {
          "name": "apiKey",
          "summary": "Api Key",
          "required": false,
          "description": "Api Key OpenAI",
          "schema": {
            "type": "string"
          }
        },
        {
          "name": "apiURL",
          "summary": "Adresse du serveur",
          "required": false,
          "description": "Adresse du serveur OpenAI",
          "schema": {
            "type": "object"
          }
        },
        {
          "name": "config",
          "summary": "Configuration",
          "required": false,
          "description": "Configuration du mod√®le OpenAI",
          "schema": {
            "type": "object"
          }
        },
        {
          "name": "options",
          "summary": "Options",
          "required": false,
          "description": "Options du mod√®le OpenAI",
          "schema": {
            "type": "object"
          }
        },
        {
          "name": "supportFor",
          "summary": "Support pour",
          "required": false,
          "description": "Fonctionnalit√©s support√©es par le mod√®le OpenAI",
          "schema": {
            "type": "object"
          }
        }
      ],
      "x-events": [],
      "responses": {
        "200": {
          "description": "R√©ponse r√©ussie",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AxAIOpenAIModelInstance"
              }
                  "apiKey": "sk-...",
              "apiURL": "https://api.openai.com/v1",
              "modelInfo": {},
              "config": {
                "model": "gpt-4o-mini"
              },
              "supportFor": {
                "functions": true,
                "streaming": true,
                "hasThinkingBudget": false,
                "hasShowThoughts": false
              }
            }
          }
        }
      }
    }
  }
},
"/modelAzureOpenAi": {
  "post": {
    "tags": [
      "service"
    ],
    "summary": "Mod√®le Azure OpenAI",
    "parameters": [
      {
        "name": "apiKey",
        "summary": "Api Key",
        "required": false,
        "description": "Api Key Azure OpenAI",
        "schema": {
          "type": "string"
        }
      },
      {
        "name": "resourceName",
        "summary": "Nom de la ressource",
        "required": false,
        "description": "Nom de la ressource Azure OpenAI",
        "schema": {
          "type": "string"
        }
      },
      {
        "name": "deploymentName",
        "summary": "Nom du d√©ploiement",
        "required": false,
        "description": "Nom du d√©ploiement Azure OpenAI",
        "schema": {
          "type": "string"
        }
      },
      {
        "name": "version",
        "summary": "Version",
        "required": false,
        "description": "Version d'API OpenAI",
        "schema": {
          "type": "string"
        }
      },
      {
        "name": "config",
        "summary": "Configuration",
        "required": false,
        "description": "Configuration du mod√®le OpenAI",
        "schema": {
          "type": "object"
        }
      },
      {
        "name": "options",
        "summary": "Options",
        "required": false,
        "description": "Options du mod√®le OpenAI",
        "schema": {
          "type": "object"
        }
      }
    ],
    "x-events": [],
    "responses": {
      "200": {
        "description": "R√©ponse r√©ussie",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/AxAIAzureOpenAIModelInstance"
            }
                  "apiKey": "votre-cl√©-api-azure",
            "resourceName": "votre-ressource-azure",
            "deploymentName": "votre-d√©ploiement",
            "version": "2023-05-15",
            "config": {},
            "options": {}
          }
        }
      }
    }
  }
}
},
"/modelOllama": {
"post": {
  "tags": [
    "service"
  ],
  "summary": "Mod√®le Ollama",
  "parameters": [
    {
      "name": "model",
      "summary": "Mod√®le",
      "required": true,
      "description": "Nom du mod√®le Ollama √† utiliser pour la g√©n√©ration",
      "schema": {
        "type": "string"
      }
    },
    {
      "name": "url",
      "summary": "Adresse du serveur",
      "required": false,
      "description": "Addresse du serveur Ollama √† utiliser pour la g√©n√©ration",
      "schema": {
        "type": "string"
      }
    },
    {
      "name": "apiKey",
      "summary": "Api Key",
      "required": false,
      "description": "Api Key Ollama",
      "schema": {
        "type": "string"
      }
    },
    {
      "name": "config",
      "summary": "Configuration",
      "required": false,
      "description": "Configuration du mod√®le Ollama",
      "schema": {
        "type": "object"
      }
    },
    {
      "name": "options",
      "summary": "Options",
      "required": false,
      "description": "Options du mod√®le Ollama",
      "schema": {
        "type": "object"
      }
    }
  ],
  "x-events": [],
  "responses": {
    "200": {
      "description": "R√©ponse r√©ussie",
      "content": {
        "application/json": {
          "schema": {
            "$ref": "#/components/schemas/AxAIOllamaModelInstance"
          }
                  "model": "llama2",
          "url": "http://localhost:11434/v1",
          "apiKey": null,
          "config": {},
          "options": {}
        }
      }
    }
  }
}
}
},
"/generate": {
"post": {
"tags": [
  "service"
],
"summary": "G√©n√©ration DSP",
"parameters": [
  {
    "name": "model",
    "summary": "Mod√®le",
    "required": false,
    "description": "Mod√®le LLM √† utiliser pour la g√©n√©ration",
    "schema": {
      "type": "array",
      "items": {
        "$ref": "https://schemas.digipair.ai/pinsSettings"
      }
    }
  },
  {
    "name": "streaming",
    "summary": "Streaming",
    "required": false,
    "description": "Ev√®nement d√©clench√© lors du streaming",
    "schema": {
      "type": "array",
      "items": {
        "$ref": "https://schemas.digipair.ai/pinsSettings"
      }
    }
  },
  {
    "name": "signature",
    "summary": "Signature",
    "required": true,
    "description": "Signature des donn√©es √† extraire",
    "schema": {
      "type": "string"
    }
  },
  {
    "name": "input",
    "summary": "Donn√©es √† traiter",
    "required": true,
    "description": "Donn√©es d'entr√©es √† traiter",
    "schema": {
      "type": "object"
    }
  },
  {
    "name": "functions",
    "summary": "Fonctions DSP",
    "required": false,
    "description": "Fonctions utilisables pour la g√©n√©ration",
    "schema": {
      "type": "array",
      "items": {
        "$ref": "#/components/schemas/Function"
      }
    }
  },
  {
    "name": "options",
    "summary": "Options",
    "required": false,
    "description": "Options de g√©n√©ration",
    "schema": {
      "type": "object"
    }
  }
],
"x-events": [],
"responses": {
  "200": {
    "description": "R√©ponse r√©ussie",
    "content": {
      "application/json": {
        "schema": {
          "$ref": "#/components/schemas/GenerationResult"
        }
                  "text": "Texte de r√©ponse g√©n√©r√©",
        "data": {
          "champ1": "valeur extraite 1",
          "champ2": "valeur extraite 2"
        },
        "functions": [],
        "reasoning": "Processus de raisonnement √©tape par √©tape"
      }
    }
  }
}
}
}
},
"/chainOfThought": {
"post": {
"tags": [
"service"
],
"summary": "Chaine de pens√©e DSP",
"parameters": [
{
  "name": "model",
  "summary": "Mod√®le",
  "required": false,
  "description": "Mod√®le LLM √† utiliser pour la g√©n√©ration",
  "schema": {
    "type": "array",
    "items": {
      "$ref": "https://schemas.digipair.ai/pinsSettings"
    }
  }
},
{
  "name": "streaming",
  "summary": "Streaming",
  "required": false,
  "description": "Ev√®nement d√©clench√© lors du streaming",
  "schema": {
    "type": "array",
    "items": {
      "$ref": "https://schemas.digipair.ai/pinsSettings"
    }
  }
},
{
  "name": "signature",
  "summary": "Signature",
  "required": true,
  "description": "Signature des donn√©es √† extraire",
  "schema": {
    "type": "string"
  }
},
{
  "name": "input",
  "summary": "Donn√©es √† traiter",
  "required": true,
  "description": "Donn√©es d'entr√©es √† traiter",
  "schema": {
    "type": "object"
  }
},
{
  "name": "functions",
  "summary": "Fonctions DSP",
  "required": false,
  "description": "Fonctions utilisables pour la chaine de pens√©e",
  "schema": {
    "type": "array",
    "items": {
      "$ref": "#/components/schemas/Function"
    }
  }
},
{
  "name": "options",
  "summary": "Options",
  "required": false,
  "description": "Options de g√©n√©ration",
  "schema": {
    "type": "object"
  }
}
],
"x-events": [],
"responses": {
"200": {
  "description": "R√©ponse r√©ussie",
  "content": {
    "application/json": {
      "schema": {
        "$ref": "#/components/schemas/ChainOfThoughtResult"
      }
                  "text": "R√©ponse de cha√Æne de pens√©e",
      "data": {
        "raisonnement": "√âtapes de raisonnement d√©taill√©es",
        "conclusion": "Conclusion finale"
      },
      "thoughts": [
        "Premi√®re pens√©e",
        "Deuxi√®me pens√©e",
        "Pens√©e finale"
      ],
      "functions": []
    }
  }
}
}
}
}
},
"/agent": {
"post": {
"tags": [
"service"
],
"summary": "Agent DSP",
"parameters": [
{
"name": "model",
"summary": "Mod√®le",
"required": false,
"description": "Mod√®le LLM √† utiliser pour la g√©n√©ration",
"schema": {
  "type": "array",
  "items": {
    "$ref": "https://schemas.digipair.ai/pinsSettings"
  }
}
},
{
"name": "streaming",
"summary": "Streaming",
"required": false,
"description": "Ev√®nement d√©clench√© lors du streaming",
"schema": {
  "type": "array",
  "items": {
    "$ref": "https://schemas.digipair.ai/pinsSettings"
  }
}
},
{
"name": "name",
"summary": "Nom",
"required": true,
"description": "Nom de l'agent",
"schema": {
  "type": "string"
}
},
{
"name": "description",
"summary": "Description",
"required": true,
"description": "Description de l'agent",
"schema": {
  "type": "string"
}
},
{
"name": "signature",
"summary": "Signature",
"required": true,
"description": "Signature des donn√©es √† extraire",
"schema": {
  "type": "string"
}
},
{
"name": "input",
"summary": "Donn√©es √† traiter",
"required": false,
"description": "Donn√©es d'entr√©es √† traiter",
"schema": {
  "type": "object"
}
},
{
"name": "functions",
"summary": "Fonctions DSP",
"required": false,
"description": "Fonctions utilisables pour la g√©n√©ration",
"schema": {
  "type": "array",
  "items": {
    "$ref": "#/components/schemas/Function"
  }
}
},
{
"name": "agents",
"summary": "Agents DSP",
"required": false,
"description": "Autres agents utilisables par l'agent",
"schema": {
  "type": "array",
  "items": {
    "$ref": "https://schemas.digipair.ai/pinsSettings"
  }
}
},
{
"name": "options",
"summary": "Options",
"required": false,
"description": "Options de g√©n√©ration",
"schema": {
  "type": "object"
}
}
],
"x-events": [],
"responses": {
"200": {
"description": "R√©ponse r√©ussie",
"content": {
  "application/json": {
    "schema": {
      "oneOf": [
        {
          "$ref": "#/components/schemas/AgentResult"
        },
        {
          "$ref": "#/components/schemas/AxAgentInstance"
        }
      ]
    }
                  "text": "R√©ponse de l'agent",
    "data": {
      "resultat_tache": "T√¢che termin√©e avec succ√®s",
      "actions_effectuees": [
        "action1",
        "action2"
      ]
    },
    "agents_used": [
      "agent_aide_1"
    ],
    "functions": []
  }
}
}
}
}
}
}
},
"components": {
"schemas": {
"Function": {
"tags": [
"service"
],
"summary": "Fonction DSP",
"type": "object",
"properties": {
"name": {
"type": "string"
},
"description": {
"type": "string"
},
"parameters": {
"type": "object"
},
"func": {
"type": "array",
"items": {
"$ref": "https://schemas.digipair.ai/pinsSettings"
}
}
},
"required": [
"name",
"description",
"parameters",
"func"
]
},
"AxAIModelInstance": {
"type": "object",
"description": "Instance de mod√®le AxAI g√©n√©rique",
"properties": {
"name": {
"type": "string",
"description": "Nom du mod√®le"
},
"config": {
"type": "object",
"description": "Configuration du mod√®le"
},
"options": {
"type": "object",
"description": "Options du mod√®le"
}
}
},
"AxAIOpenAIModelInstance": {
"type": "object",
"description": "Instance de mod√®le OpenAI",
"properties": {
"apiKey": {
"type": "string",
"description": "Cl√© API OpenAI"
},
"apiURL": {
"type": "string",
"description": "URL de l'API OpenAI"
},
"modelInfo": {
"type": "object",
"description": "Informations du mod√®le"
},
"config": {
"type": "object",
"description": "Configuration du mod√®le"
},
"supportFor": {
"type": "object",
"description": "Fonctionnalit√©s support√©es"
}
}
},
"AxAIAzureOpenAIModelInstance": {
"type": "object",
"description": "Instance de mod√®le Azure OpenAI",
"properties": {
"apiKey": {
"type": "string",
"description": "Cl√© API Azure OpenAI"
},
"resourceName": {
"type": "string",
"description": "Nom de la ressource Azure"
},
"deploymentName": {
"type": "string",
"description": "Nom du d√©ploiement"
},
"version": {
"type": "string",
"description": "Version de l'API"
},
"config": {
"type": "object",
"description": "Configuration du mod√®le"
},
"options": {
"type": "object",
"description": "Options du mod√®le"
}
}
},
"AxAIOllamaModelInstance": {
"type": "object",
"description": "Instance de mod√®le Ollama",
"properties": {
"model": {
"type": "string",
"description": "Nom du mod√®le"
},
"url": {
"type": "string",
"description": "URL du serveur Ollama"
},
"apiKey": {
"type": [
"string",
"null"
],
"description": "Cl√© API (si requise)"
},
"config": {
"type": "object",
"description": "Configuration du mod√®le"
},
"options": {
"type": "object",
"description": "Options du mod√®le"
}
}
},
"GenerationResult": {
"type": "object",
"description": "R√©sultat de g√©n√©ration DSP",
"properties": {
"text": {
"type": "string",
"description": "Texte g√©n√©r√©"
},
"data": {
"type": "object",
"description": "Donn√©es structur√©es extraites"
},
"functions": {
"type": "array",
"description": "Appels de fonction effectu√©s pendant la g√©n√©ration",
"items": {
"type": "object"
}
},
"reasoning": {
"type": "string",
"description": "Processus de raisonnement"
}
}
},
"ChainOfThoughtResult": {
"type": "object",
"description": "R√©sultat de cha√Æne de pens√©e DSP",
"properties": {
"text": {
"type": "string",
"description": "Texte g√©n√©r√© avec raisonnement"
},
"data": {
"type": "object",
"description": "Donn√©es structur√©es extraites"
},
"thoughts": {
"type": "array",
"description": "√âtapes de la cha√Æne de pens√©e",
"items": {
"type": "string"
}
},
"functions": {
"type": "array",
"description": "Appels de fonction effectu√©s pendant la g√©n√©ration",
"items": {
"type": "object"
}
}
}
},
"AgentResult": {
"type": "object",
"description": "R√©sultat d'ex√©cution d'agent",
"properties": {
"text": {
"type": "string",
"description": "Texte de r√©ponse de l'agent"
},
"data": {
"type": "object",
"description": "Donn√©es de r√©sultat de t√¢che"
},
"agents_used": {
"type": "array",
"description": "Autres agents utilis√©s dans l'ex√©cution",
"items": {
"type": "string"
}
},
"functions": {
"type": "array",
"description": "Appels de fonction effectu√©s pendant l'ex√©cution",
"items": {
"type": "object"
}
}
}
},
"AxAgentInstance": {
"type": "object",
"description": "Instance d'agent (quand forward=false)",
"properties": {
"name": {
"type": "string",
"description": "Nom de l'agent"
},
"description": {
"type": "string",
"description": "Description de l'agent"
},
"signature": {
"type": "string",
"description": "Signature de l'agent"
},
"functions": {
"type": "array",
"description": "Fonctions disponibles",
"items": {
"$ref": "#/components/schemas/Function"
}
},
"agents": {
"type": "array",
"description": "Sous-agents",
"items": {
"type": "object"
}
}
}
}
}
},
"x-scene-blocks": {}
}