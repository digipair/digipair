{
  "openapi": "3.0.0",
  "info": {
    "title": "@digipair/skill-heygen",
    "summary": "Heygen API",
    "description": "g√©rer la communication avec les serveurs Heygen.",
    "version": "0.1.0",
    "x-icon": "üîó"
  },
  "paths": {
    "/newSession": {
      "post": {
        "tags": ["service"],
        "summary": "Cr√©er une session Heygen",
        "parameters": [
          {
            "name": "serverUrl",
            "summary": "URL",
            "required": false,
            "description": "URL du serveur Heygen",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "apiKey",
            "summary": "Cl√© API Heygen",
            "required": false,
            "description": "Cl√© API Heygen",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "quality",
            "summary": "Qualit√©",
            "required": false,
            "description": "Qualit√© de la voix",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "avatar",
            "summary": "Avatar",
            "required": true,
            "description": "Avatar de la voix",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "voice",
            "summary": "Voix",
            "required": true,
            "description": "Voix de la voix",
            "schema": {
              "type": "string"
            }
          }
        ],
        "x-events": [],
        "responses": {
          "200": {
            "description": "Session HeyGen cr√©√©e avec succ√®s",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "Donn√©es de session HeyGen avec ID de session et d√©tails de connexion",
                  "properties": {
                    "session_id": {
                      "type": "string",
                      "description": "Identifiant unique de session"
                    },
                    "sdp": {
                      "type": "object",
                      "description": "Donn√©es Session Description Protocol"
                    },
                    "ice_servers": {
                      "type": "array",
                      "description": "Configuration des serveurs ICE"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Requ√™te invalide - Param√®tres d'avatar ou de voix invalides"
          },
          "401": {
            "description": "Non autoris√© - Cl√© API invalide ou manquante"
          },
          "500": {
            "description": "Erreur serveur - Erreur interne de l'API HeyGen"
          }
        }
      }
    },
    "/handleICE": {
      "post": {
        "tags": ["service"],
        "summary": "ICE Heygen",
        "parameters": [
          {
            "name": "serverUrl",
            "summary": "URL",
            "required": false,
            "description": "URL du serveur Heygen",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "apiKey",
            "summary": "Cl√© API Heygen",
            "required": false,
            "description": "Cl√© API Heygen",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sessionId",
            "summary": "Session",
            "required": true,
            "description": "ID de session",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "candidate",
            "summary": "Candidat ICE",
            "required": true,
            "description": "Candidat ICE",
            "schema": {
              "type": "object"
            }
          }
        ],
        "x-events": [],
        "responses": {
          "200": {
            "description": "Candidat ICE trait√© avec succ√®s",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "Confirmation de traitement ICE depuis l'API HeyGen"
                }
              }
            }
          },
          "400": {
            "description": "Requ√™te invalide - ID de session ou donn√©es de candidat invalides"
          },
          "401": {
            "description": "Non autoris√© - Cl√© API invalide ou manquante"
          },
          "404": {
            "description": "Non trouv√© - Session non trouv√©e"
          },
          "500": {
            "description": "Erreur serveur - Erreur interne de l'API HeyGen"
          }
        }
      }
    },
    "/startSession": {
      "post": {
        "tags": ["service"],
        "summary": "D√©marrer la session Heygen",
        "parameters": [
          {
            "name": "serverUrl",
            "summary": "URL",
            "required": false,
            "description": "URL du serveur Heygen",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "apiKey",
            "summary": "Cl√© API Heygen",
            "required": false,
            "description": "Cl√© API Heygen",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sessionId",
            "summary": "Session",
            "required": true,
            "description": "ID de session",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sdp",
            "summary": "SDP",
            "required": true,
            "description": "SDP",
            "schema": {
              "type": "object"
            }
          }
        ],
        "x-events": [],
        "responses": {
          "200": {
            "description": "Session HeyGen d√©marr√©e avec succ√®s",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "Confirmation de d√©marrage de session avec d√©tails de streaming",
                  "properties": {
                    "session_id": {
                      "type": "string",
                      "description": "Identifiant de session active"
                    },
                    "status": {
                      "type": "string",
                      "description": "Statut de la session"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Requ√™te invalide - ID de session ou donn√©es SDP invalides"
          },
          "401": {
            "description": "Non autoris√© - Cl√© API invalide ou manquante"
          },
          "404": {
            "description": "Non trouv√© - Session non trouv√©e"
          },
          "500": {
            "description": "Erreur serveur - Erreur interne de l'API HeyGen"
          }
        }
      }
    },
    "/talk": {
      "post": {
        "tags": ["service"],
        "summary": "Parler avec Heygen",
        "parameters": [
          {
            "name": "serverUrl",
            "summary": "URL",
            "required": false,
            "description": "URL du serveur Heygen",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "apiKey",
            "summary": "Cl√© API Heygen",
            "required": false,
            "description": "Cl√© API Heygen",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sessionId",
            "summary": "Session",
            "required": true,
            "description": "ID de session",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "text",
            "summary": "Texte",
            "required": true,
            "description": "Texte √† dire",
            "schema": {
              "type": "string"
            }
          }
        ],
        "x-events": [],
        "responses": {
          "200": {
            "description": "Parole de l'avatar g√©n√©r√©e avec succ√®s",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "Confirmation de g√©n√©ration de parole avec d√©tails de t√¢che",
                  "properties": {
                    "task_id": {
                      "type": "string",
                      "description": "Identifiant de t√¢che de parole"
                    },
                    "status": {
                      "type": "string",
                      "description": "Statut de la t√¢che"
                    },
                    "duration": {
                      "type": "number",
                      "description": "Dur√©e estim√©e de la parole"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Requ√™te invalide - ID de session ou contenu textuel invalide"
          },
          "401": {
            "description": "Non autoris√© - Cl√© API invalide ou manquante"
          },
          "404": {
            "description": "Non trouv√© - Session non trouv√©e ou inactive"
          },
          "500": {
            "description": "Erreur serveur - Erreur interne de l'API HeyGen"
          }
        }
      }
    },
    "/stop": {
      "post": {
        "tags": ["service"],
        "summary": "Arr√™ter la session Heygen",
        "parameters": [
          {
            "name": "serverUrl",
            "summary": "URL",
            "required": false,
            "description": "URL du serveur Heygen",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "apiKey",
            "summary": "Cl√© API Heygen",
            "required": false,
            "description": "Cl√© API Heygen",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sessionId",
            "summary": "Session",
            "required": true,
            "description": "ID de session",
            "schema": {
              "type": "string"
            }
          }
        ],
        "x-events": [],
        "responses": {
          "200": {
            "description": "Session HeyGen arr√™t√©e avec succ√®s",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "description": "Confirmation d'arr√™t de session",
                  "properties": {
                    "session_id": {
                      "type": "string",
                      "description": "Identifiant de session arr√™t√©e"
                    },
                    "status": {
                      "type": "string",
                      "description": "Statut final de la session"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Requ√™te invalide - ID de session invalide"
          },
          "401": {
            "description": "Non autoris√© - Cl√© API invalide ou manquante"
          },
          "404": {
            "description": "Non trouv√© - Session non trouv√©e"
          },
          "500": {
            "description": "Erreur serveur - Erreur interne de l'API HeyGen"
          }
        }
      }
    }
  },
  "components": {
    "schemas": {}
  },
  "x-scene-blocks": {}
}
