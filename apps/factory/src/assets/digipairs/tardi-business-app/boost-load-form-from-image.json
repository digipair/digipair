{
  "type": "boost",
  "name": "load-form-from-text",
  "description": "Remplir le formulaire a partir d'un document non structuré",
  "library": "@tardigrade/skill-chatbot",
  "element": "boost",
  "metadata": {
    "boosts": [
      {
        "selector": "img",
        "url": "^.*$",
        "name": "Remplir le formulaire à partir de l'image",
        "prompt": false,
        "required": false,
        "text": "Voulez-vous remplir le formulaire à partir de l'image ?",
        "inputs": [
          {
            "library": "web",
            "element": "tardigrade-input-ocr-image",
            "properties": {
              "selector": "{{element}}",
              "required": true
            }
          },
          {
            "library": "web",
            "element": "tardigrade-input-dom-attribute",
            "properties": {
              "selector": "tardigrade-chatbot-assistant",
              "attribute": "formElements",
              "required": true
            }
          }
        ]
      }
    ]
  },
  "properties": {},
  "pins": [
    {
      "library": "@tardigrade/skill-json",
      "element": "json2signature",
      "properties": {
        "value": "EVALUATE:request.body.inputs[2].value"
      }
    },
    {
      "library": "@tardigrade/skill-dsp",
      "element": "generate",
      "properties": {
        "modelName": "mixtral",
        "signature": "{{previous}}, assistant:string \"reponse tres courte de l'assistant en francais avec le type de formulaire rempli sans donner d'information\"",
        "input": {
          "document": "{{request.body.inputs.[0].value}}"
        }
      }
    },
    {
      "library": "@tardigrade/skill-chatbot",
      "element": "chatbot",
      "properties": {
        "assistant": "{{previous.assistant}}",
        "command": [
          {
            "library": "@tardigrade/skill-dom",
            "element": "dispatchEvent",
            "properties": {
              "name": "setFormElements",
              "selector": "tardigrade-chatbot-assistant",
              "detail": "EVALUATE:previous"
            }
          }
        ]
      }
    }
  ]
}
