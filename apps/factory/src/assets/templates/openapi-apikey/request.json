{
  "description": "L'utilisateur a formul√© une demande.",
  "summary": "Demande d'information",
  "library": "@digipair/skill-factory",
  "element": "task",
  "metadata": {},
  "properties": {
    "execute": [
      {
        "library": "@digipair/skill-basic",
        "element": "setVariable",
        "properties": {
          "name": "openapi",
          "execute": [
            {
              "library": "@digipair/skill-http",
              "element": "read",
              "properties": {
                "path": "FEEL:privates.OPENAPI_URL"
              }
            }
          ]
        }
      },
      {
        "library": "@digipair/skill-basic",
        "element": "setVariable",
        "properties": {
          "name": "server",
          "value": "FEEL:variables.openapi.servers[1].url"
        }
      },
      {
        "library": "@digipair/skill-basic",
        "element": "setVariable",
        "properties": {
          "name": "path",
          "value": "FEEL:request.body.path"
        }
      },
      {
        "library": "@digipair/skill-basic",
        "element": "setVariable",
        "properties": {
          "name": "method",
          "value": "FEEL:request.body.method"
        }
      },
      {
        "library": "@digipair/skill-basic",
        "element": "setVariable",
        "properties": {
          "name": "body",
          "value": "FEEL:request.body.body"
        }
      },
      {
        "library": "@digipair/skill-basic",
        "element": "setVariable",
        "properties": {
          "name": "headers",
          "value": "FEEL:context merge([\n  request.body, \n  context([{ \"key\": privates.OPENAPI_AUTHORIZATION_KEY, \"value\": privates.OPENAPI_AUTHORIZATION_VALUE }])\n])"
        }
      },
      {
        "library": "@digipair/skill-http",
        "element": "request",
        "properties": {
          "path": "FEEL:variables.server + variables.path",
          "method": "FEEL:variables.method",
          "body": "FEEL:if variables.method != \"get\" and variables.method != \"head\" then variables.body else null",
          "headers": "FEEL:variables.headers"
        }
      }
    ]
  },
  "pins": []
}